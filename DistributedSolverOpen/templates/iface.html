<!DOCTYPE html>
<html>
<head>
    <title>TravelPack</title>
    <meta http-equiv="refresh" content="20">
    <style type="text/css">
        table, th, td {
            border: 1px solid black;
        }
    </style>
</head>
<body>

    <form action="/message" method="post">
        <label for="start">Fecha de ida:</label>
        <input type="date" id="start" name="trip-start"
           value="2021-06-13"
           min="2021-01-01" max="2022-12-31">

        <br><br>

        <label for="end">Fecha de vuelta:</label>
        <input type="date" id="end" name="trip-end"
           value="2021-06-20"
           min="2021-01-01" max="2022-12-31">

        <br>
        <p><label for="origin-city">Ciudad de origen:</label> </p>
        <select id="origin-city" name="origin-city" method="GET" action="/">
            {% for c in cities %}
            <option value={{c}}>{{c}}</option>
            {% endfor %}
        </select>

        <p><label for="destination-city">Ciudad de destino:</label> </p>
        <select id="destination-city" name="destination-city" method="GET" action="/">
            {% for c in cities %}
            <option value={{c}}>{{c}}</option>
            {% endfor %}
        </select>

        <p><label>Indica cuánto quieres pagar por tu viaje:</label> </p>
        <div class="price-slider"><span>
            <label for="price-min">Precio mínimo:</label>
            <input type="number" value="200" min="0" max="1000"/>
            <input type="range" name="price-min" id="price-min" value="200" min="0" max="1000" step="1">
            <br><br>
            <label for="price-max">Precio máximo:</label>
            <input type="number" value="800" min="0" max="1000"/></span>
            <input type="range" name="price-max" id="price-max" value="800" min="0" max="1000" step="1">
            <br>
        </div>

        <p><label>Indica cómo quieres que sean las actividades de tu viaje:</label> </p>
        <p><label for="ludic-activities"> Lúdicas </label></p>
        <select id="ludic-activities" name="ludic-activities" method="GET" action="/">
            {% for t in activitytype %}
            <option value={{t}}>{{t}}</option>
            {% endfor %}
        </select>
        <p><label for="cultural-activities"> Culturales </label></p>
        <select id="cultural-activities" name="cultural-activities" method="GET" action="/">
            {% for t in activitytype %}
            <option value={{t}}>{{t}}</option>
            {% endfor %}
        </select>
        <p><label for="party-activities"> Festivas </label></p>
        <select id="party-activities" name="party-activities" method="GET" action="/">
            {% for t in activitytype %}
            <option value={{t}}>{{t}}</option>
            {% endfor %}
        </select>

        <p> <button type="submit" name="message" value='message'>Búscame un viaje</button> </p>

        <h2><label>Alojamiento</label> </h2>
        <table>
            <tr>
                <th>Fecha de inicio</th>
                <th>Fecha de fin</th>
                <th>Ciudad</th>
                <th>Precio</th>
                <th>Nombre del alojamiento</th>
            </tr>
            {% for id in probs|sort %}
            {% if probs[id][0] == 'REQALLOTJAMENT' %}
            <tr>
                <td>{{probs[id][1]}}</td>
                <td>{{probs[id][2]}}</td>
                <td>{{probs[id][4]}}</td>
                <td>{{probs[id][5]}}</td>
                <td>{{probs[id][6]}}</td>
             </tr>
            {% endif %}
            {% endfor %}

        </table>

        <h2><label>Transporte</label> </h2>
        <table>
            <tr>
                <th>Fecha de salida</th>
                <th>Fecha de regreso</th>
                <th>Ciudad origen</th>
                <th>Ciudad destino</th>
                <th>Precio</th>
            </tr>
            {% for id in probs|sort %}
            {% if probs[id][0] == 'REQTRANSPORT' %}
            <tr>
                <td>{{probs[id][1]}}</td>
                <td>{{probs[id][2]}}</td>
                <td>{{probs[id][3]}}</td>
                <td>{{probs[id][4]}}</td>
                <td>{{probs[id][5]}}</td>
             </tr>
            {% endif %}
            {% endfor %}
        </table>

    </form>
</body>
</html>